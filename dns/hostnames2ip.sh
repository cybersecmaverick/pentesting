#!/bin/bash

# Date: 10-07-2023
# Author: CyberSecMaverick
#
# Description:
# ============
# This is a quick bash script which takes hostnames or FQDNs in a text file and performs a DNS resolution lookup on them.
# It will return the hostname and it's associated IP only. No extra faff.
# Just quick and dirty and gets to the point.


# File containing hostnames
hosts_file="hosts.txt"

# Check if the hosts file exists
if [[ ! -f "$hosts_file" ]]; then
  echo "Error: Hosts file '$hosts_file' not found."
  exit 1
fi

# Read hostnames from the file and perform name resolution
while read -r hostname; do
  echo -n "$hostname : "
  ip=$(nslookup "$hostname" | awk '/^Address: / { print $2 }')
  if [[ -n "$ip" ]]; then
    echo "$ip"
  else
    echo "Failed to resolve IP address for $hostname"
  fi
  echo
done < "$hosts_file"
